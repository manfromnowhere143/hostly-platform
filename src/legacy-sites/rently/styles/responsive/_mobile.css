/* ═══════════════════════════════════════════════════════════════════════════════
   RESPONSIVE: MOBILE - STATE OF THE ART FLOATING NAVIGATION
   ═══════════════════════════════════════════════════════════════════════════════

   Steve Jobs Level Elegance:
   - Buttery smooth 60fps transitions
   - Perfect iOS-inspired timing curves
   - Full theme/color responsiveness via CSS variables
   - Zero hardcoded colors - everything adapts
   - Pixel-perfect proportions

   ═══════════════════════════════════════════════════════════════════════════════ */

/* Hide mobile elements on desktop */
.mobile-hamburger,
.float-nav-book,
.float-nav-home,
.float-nav-apartments,
.float-control-theme,
.float-control-lang,
.float-dropdown,
.float-menu-overlay {
  display: none !important;
}

@media screen and (max-width: 1024px) {

  /* ═══════════════════════════════════════════════════════════════════════════
     FOUNDATION - SCROLL & LAYOUT
     ═══════════════════════════════════════════════════════════════════════════
     NOTE: Global html/body rules REMOVED to prevent CSS leaking to marketplace.
     Body styles are managed via JavaScript in RentlyLuxuryWrapper.tsx with cleanup.
     The .rently container handles its own scroll containment.
     ═══════════════════════════════════════════════════════════════════════════ */

  /* Scoped body styles - only when .rently-active class is present on html */
  html.rently-active {
    overflow: hidden !important;
    height: 100% !important;
  }

  html.rently-active body {
    overflow: hidden !important;
    height: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  .rently {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    width: 100% !important;
    height: 100% !important;
    overflow-x: hidden !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
    overscroll-behavior-y: contain !important;
    touch-action: pan-y !important;
  }

  .rently::-webkit-scrollbar { display: none; }
  .rently { -ms-overflow-style: none; scrollbar-width: none; }

  .app-layout {
    display: block !important;
    width: 100% !important;
    min-height: 100% !important;
    position: relative !important;
  }

  .main-content {
    display: block !important;
    width: 100% !important;
    min-height: auto !important;
    margin: 0 !important;
    padding: 0 !important;
    position: relative !important;
  }

  /* Hide desktop elements */
  .top-header,
  .floating-controls,
  .mobile-dock {
    display: none !important;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     DESIGN TOKENS - Mobile Specific
     All colors derive from theme variables for perfect responsiveness
     ═══════════════════════════════════════════════════════════════════════════ */

  .rently {
    --mobile-glass-bg: rgba(255, 255, 255, 0.92);
    --mobile-glass-bg-hover: rgba(255, 255, 255, 0.96);
    --mobile-glass-border: rgba(181, 132, 109, 0.12);
    --mobile-glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.06), 0 2px 8px rgba(0, 0, 0, 0.03);
    --mobile-glass-shadow-hover: 0 12px 40px rgba(0, 0, 0, 0.1), 0 4px 12px rgba(0, 0, 0, 0.05);
    --mobile-glass-inset: inset 0 1px 0 rgba(255, 255, 255, 0.8);
    --mobile-icon-color: var(--velvet);
    --mobile-timing: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    --mobile-timing-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
    --mobile-timing-smooth: cubic-bezier(0.4, 0, 0.2, 1);
  }

  .rently.dark {
    --mobile-glass-bg: rgba(28, 24, 22, 0.92);
    --mobile-glass-bg-hover: rgba(35, 30, 27, 0.96);
    --mobile-glass-border: rgba(255, 255, 255, 0.06);
    --mobile-glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.2), 0 2px 8px rgba(0, 0, 0, 0.12);
    --mobile-glass-shadow-hover: 0 12px 40px rgba(0, 0, 0, 0.3), 0 4px 12px rgba(0, 0, 0, 0.18);
    --mobile-glass-inset: inset 0 1px 0 rgba(255, 255, 255, 0.04);
  }

  .rently.cream {
    --mobile-glass-bg: rgba(250, 245, 240, 0.94);
    --mobile-glass-bg-hover: rgba(255, 250, 245, 0.98);
    --mobile-glass-border: rgba(181, 132, 109, 0.15);
  }

  .rently.petra {
    --mobile-glass-bg: rgba(232, 213, 196, 0.92);
    --mobile-glass-bg-hover: rgba(240, 225, 210, 0.96);
    --mobile-glass-border: rgba(160, 120, 100, 0.18);
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     HAMBURGER BUTTON - The Primary Control
     Transforms to X with perfect animation
     ═══════════════════════════════════════════════════════════════════════════ */

  .mobile-hamburger {
    display: flex !important;
    position: fixed !important;
    top: max(16px, env(safe-area-inset-top, 16px)) !important;
    left: 16px !important;
    width: 52px !important;
    height: 52px !important;
    z-index: 10000 !important;

    align-items: center !important;
    justify-content: center !important;
    flex-direction: column !important;
    gap: 6px !important;

    background: var(--mobile-glass-bg) !important;
    backdrop-filter: blur(20px) saturate(180%) !important;
    -webkit-backdrop-filter: blur(20px) saturate(180%) !important;
    border: 1px solid var(--mobile-glass-border) !important;
    border-radius: 16px !important;
    box-shadow: var(--mobile-glass-shadow), var(--mobile-glass-inset) !important;

    cursor: pointer !important;
    -webkit-tap-highlight-color: transparent !important;

    /* Buttery smooth transition */
    transition:
      background 0.3s var(--mobile-timing-smooth),
      box-shadow 0.3s var(--mobile-timing-smooth),
      transform 0.2s var(--mobile-timing-spring) !important;

    will-change: transform !important;
    contain: layout style !important;
  }

  .rently.rtl .mobile-hamburger {
    left: auto !important;
    right: 16px !important;
  }

  /* Hamburger lines */
  .mobile-hamburger span {
    display: block !important;
    width: 22px !important;
    height: 2px !important;
    background: var(--mobile-icon-color) !important;
    border-radius: 1px !important;

    /* Perfect line animation */
    transition:
      transform 0.35s var(--mobile-timing-spring),
      opacity 0.25s var(--mobile-timing-smooth),
      background 0.3s var(--mobile-timing-smooth) !important;

    transform-origin: center center !important;
    will-change: transform, opacity !important;
  }

  /* Hamburger → X transformation */
  .mobile-hamburger.open {
    background: var(--mobile-glass-bg-hover) !important;
    box-shadow: var(--mobile-glass-shadow-hover), var(--mobile-glass-inset) !important;
  }

  .mobile-hamburger.open span:nth-child(1) {
    transform: translateY(8px) rotate(45deg) !important;
  }

  .mobile-hamburger.open span:nth-child(2) {
    opacity: 0 !important;
    transform: scaleX(0) !important;
  }

  .mobile-hamburger.open span:nth-child(3) {
    transform: translateY(-8px) rotate(-45deg) !important;
  }

  /* Tap feedback - spring bounce */
  .mobile-hamburger:active {
    transform: scale(0.92) !important;
    transition: transform 0.1s var(--mobile-timing) !important;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     NO OVERLAY - Keep screen fully interactive
     ═══════════════════════════════════════════════════════════════════════════ */

  .float-menu-overlay {
    display: none !important;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     SHARED FLOATING BUTTON STYLES
     Glass morphism with theme-responsive colors
     ═══════════════════════════════════════════════════════════════════════════ */

  .float-nav-home,
  .float-nav-apartments,
  .float-control-theme,
  .float-control-lang {
    display: flex !important;
    position: fixed !important;
    z-index: 9995 !important;
    width: 52px !important;
    height: 52px !important;

    align-items: center !important;
    justify-content: center !important;

    background: var(--mobile-glass-bg) !important;
    backdrop-filter: blur(20px) saturate(180%) !important;
    -webkit-backdrop-filter: blur(20px) saturate(180%) !important;
    border: 1px solid var(--mobile-glass-border) !important;
    border-radius: 16px !important;
    box-shadow: var(--mobile-glass-shadow), var(--mobile-glass-inset) !important;

    cursor: pointer !important;
    -webkit-tap-highlight-color: transparent !important;

    /* Hidden state - smooth entry animation */
    opacity: 0 !important;
    pointer-events: none !important;

    /* Buttery transitions */
    transition:
      transform 0.5s var(--mobile-timing-spring),
      opacity 0.4s var(--mobile-timing-smooth),
      background 0.3s var(--mobile-timing-smooth),
      box-shadow 0.3s var(--mobile-timing-smooth),
      border-color 0.3s var(--mobile-timing-smooth) !important;

    will-change: transform, opacity !important;
    contain: layout style !important;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     BOOK BUTTON - State of the Art - Slides from LEFT
     ═══════════════════════════════════════════════════════════════════════════ */

  .float-nav-book {
    display: flex !important;
    position: fixed !important;
    top: max(16px, env(safe-area-inset-top, 16px)) !important;
    left: 80px !important;
    z-index: 9999 !important;
    height: 52px !important;
    padding: 0 18px !important;
    gap: 8px !important;

    align-items: center !important;
    justify-content: center !important;

    /* Premium gradient */
    background: linear-gradient(
      135deg,
      var(--velvet) 0%,
      #c9a08c 50%,
      var(--velvet) 100%
    ) !important;
    background-size: 200% 200% !important;

    border: none !important;
    border-radius: 16px !important;
    box-shadow:
      0 8px 28px rgba(181, 132, 109, 0.45),
      0 4px 12px rgba(0, 0, 0, 0.12),
      inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;

    cursor: pointer !important;
    -webkit-tap-highlight-color: transparent !important;
    overflow: hidden !important;
    position: relative !important;

    /* Hidden state */
    opacity: 0 !important;
    pointer-events: none !important;
    transform: translateX(-100px) scale(0.8) !important;

    /* Buttery transitions */
    transition:
      transform 0.5s var(--mobile-timing-spring),
      opacity 0.4s var(--mobile-timing-smooth),
      box-shadow 0.3s var(--mobile-timing-smooth) !important;

    will-change: transform, opacity !important;
  }

  .rently.rtl .float-nav-book {
    left: auto !important;
    right: 80px !important;
    transform: translateX(100px) scale(0.8) !important;
  }

  .float-nav-book.visible {
    opacity: 1 !important;
    pointer-events: auto !important;
    transform: translateX(0) scale(1) !important;
    transition-delay: 0.01s !important;
  }

  .rently.rtl .float-nav-book.visible {
    transform: translateX(0) scale(1) !important;
  }

  /* Shimmer effect */
  .float-nav-book::before {
    content: '' !important;
    position: absolute !important;
    top: 0 !important;
    left: -100% !important;
    width: 100% !important;
    height: 100% !important;
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.3) 50%,
      transparent 100%
    ) !important;
    animation: floatBookShimmer 3s infinite !important;
  }

  @keyframes floatBookShimmer {
    0% { left: -100%; }
    50%, 100% { left: 100%; }
  }

  /* Book Icon */
  .float-book-icon {
    width: 22px !important;
    height: 22px !important;
    flex-shrink: 0 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }

  .float-book-icon svg {
    width: 100% !important;
    height: 100% !important;
    color: #fff !important;
  }

  /* Book Text */
  .float-book-text {
    font-family: var(--font-body) !important;
    font-size: 0.75rem !important;
    font-weight: 600 !important;
    letter-spacing: 0.08em !important;
    text-transform: uppercase !important;
    color: #fff !important;
    white-space: nowrap !important;
  }

  .rently.rtl .float-book-text {
    font-family: var(--font-hebrew) !important;
    letter-spacing: 0 !important;
  }

  /* Tap feedback */
  .float-nav-book:active {
    transform: scale(0.92) !important;
    box-shadow:
      0 4px 16px rgba(181, 132, 109, 0.35),
      0 2px 6px rgba(0, 0, 0, 0.1) !important;
    transition: transform 0.1s var(--mobile-timing) !important;
  }

  .float-nav-book.visible:active {
    transform: scale(0.92) !important;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     NAVIGATION BUTTONS - Home & Apartments
     SECOND ROW - Below hamburger and book button
     ═══════════════════════════════════════════════════════════════════════════ */

  /* HOME BUTTON - Second row, first position */
  .float-nav-home {
    top: calc(max(16px, env(safe-area-inset-top, 16px)) + 68px) !important;
    left: 16px !important;
    transform: translateY(-30px) scale(0.8) !important;
  }

  .rently.rtl .float-nav-home {
    left: auto !important;
    right: 16px !important;
    transform: translateY(-30px) scale(0.8) !important;
  }

  .float-nav-home.visible {
    opacity: 1 !important;
    pointer-events: auto !important;
    transform: translateY(0) scale(1) !important;
    transition-delay: 0.04s !important;
  }

  .rently.rtl .float-nav-home.visible {
    transform: translateY(0) scale(1) !important;
  }

  /* APARTMENTS BUTTON - Second row, second position */
  .float-nav-apartments {
    top: calc(max(16px, env(safe-area-inset-top, 16px)) + 68px) !important;
    left: 80px !important;
    transform: translateY(-30px) scale(0.8) !important;
  }

  .rently.rtl .float-nav-apartments {
    left: auto !important;
    right: 80px !important;
    transform: translateY(-30px) scale(0.8) !important;
  }

  .float-nav-apartments.visible {
    opacity: 1 !important;
    pointer-events: auto !important;
    transform: translateY(0) scale(1) !important;
    transition-delay: 0.08s !important;
  }

  .rently.rtl .float-nav-apartments.visible {
    transform: translateY(0) scale(1) !important;
  }

  /* Navigation icons - theme responsive */
  .float-nav-home svg,
  .float-nav-apartments svg {
    width: 24px !important;
    height: 24px !important;
    color: var(--mobile-icon-color) !important;
    stroke: currentColor !important;
    transition:
      color 0.3s var(--mobile-timing-smooth),
      transform 0.25s var(--mobile-timing-spring) !important;
  }

  /* Active state - velvet fill */
  .float-nav-home.active,
  .float-nav-apartments.active {
    background: var(--velvet) !important;
    border-color: transparent !important;
    box-shadow:
      0 8px 24px rgba(181, 132, 109, 0.35),
      0 2px 8px rgba(181, 132, 109, 0.2),
      var(--mobile-glass-inset) !important;
  }

  .float-nav-home.active svg,
  .float-nav-apartments.active svg {
    color: #fff !important;
  }

  /* Tap feedback */
  .float-nav-home:active,
  .float-nav-apartments:active {
    transform: scale(0.9) !important;
    transition: transform 0.1s var(--mobile-timing) !important;
  }

  .float-nav-home.visible:active,
  .float-nav-apartments.visible:active {
    transform: scale(0.9) !important;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     CONTROL BUTTONS - Theme & Language
     Slide from RIGHT with staggered timing
     ═══════════════════════════════════════════════════════════════════════════ */

  /* THEME BUTTON */
  .float-control-theme {
    top: max(16px, env(safe-area-inset-top, 16px)) !important;
    right: 80px !important;
    transform: translateX(80px) scale(0.8) !important;
  }

  .rently.rtl .float-control-theme {
    right: auto !important;
    left: 80px !important;
    transform: translateX(-80px) scale(0.8) !important;
  }

  .float-control-theme.visible {
    opacity: 1 !important;
    pointer-events: auto !important;
    transform: translateX(0) scale(1) !important;
    transition-delay: 0.08s !important;
  }

  .rently.rtl .float-control-theme.visible {
    transform: translateX(0) scale(1) !important;
  }

  /* LANGUAGE BUTTON */
  .float-control-lang {
    top: max(16px, env(safe-area-inset-top, 16px)) !important;
    right: 16px !important;
    transform: translateX(60px) scale(0.8) !important;
  }

  .rently.rtl .float-control-lang {
    right: auto !important;
    left: 16px !important;
    transform: translateX(-60px) scale(0.8) !important;
  }

  .float-control-lang.visible {
    opacity: 1 !important;
    pointer-events: auto !important;
    transform: translateX(0) scale(1) !important;
    transition-delay: 0.1s !important;
  }

  .rently.rtl .float-control-lang.visible {
    transform: translateX(0) scale(1) !important;
  }

  /* Theme icon - 4 color grid */
  .float-theme-icon {
    display: grid !important;
    grid-template-columns: repeat(2, 10px) !important;
    gap: 3px !important;
    width: 23px !important;
    height: 23px !important;
  }

  .float-theme-quad {
    width: 10px !important;
    height: 10px !important;
    border-radius: 3px !important;
    box-shadow: inset 0 0 0 0.5px rgba(0, 0, 0, 0.1) !important;
    transition: transform 0.2s var(--mobile-timing-spring) !important;
  }

  .float-control-theme:hover .float-theme-quad,
  .float-control-theme:active .float-theme-quad {
    transform: scale(1.1) !important;
  }

  /* Language icon */
  .float-control-lang svg {
    width: 22px !important;
    height: 22px !important;
    color: var(--mobile-icon-color) !important;
    stroke: currentColor !important;
    transition:
      color 0.3s var(--mobile-timing-smooth),
      transform 0.25s var(--mobile-timing-spring) !important;
  }

  /* Tap feedback */
  .float-control-theme:active,
  .float-control-lang:active {
    transform: scale(0.9) !important;
    transition: transform 0.1s var(--mobile-timing) !important;
  }

  .float-control-theme.visible:active,
  .float-control-lang.visible:active {
    transform: scale(0.9) !important;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     DROPDOWN PANELS - Theme & Language Selection
     Elegant floating panels with perfect animation
     ═══════════════════════════════════════════════════════════════════════════ */

  .float-dropdown {
    position: fixed !important;
    z-index: 10001 !important;

    display: flex !important;
    gap: 8px !important;
    padding: 10px !important;

    background: var(--mobile-glass-bg-hover) !important;
    backdrop-filter: blur(24px) saturate(200%) !important;
    -webkit-backdrop-filter: blur(24px) saturate(200%) !important;
    border: 1px solid var(--mobile-glass-border) !important;
    border-radius: 18px !important;
    box-shadow: var(--mobile-glass-shadow-hover), var(--mobile-glass-inset) !important;

    /* Hidden state */
    opacity: 0 !important;
    visibility: hidden !important;
    pointer-events: none !important;
    transform: translateY(-8px) scale(0.96) !important;

    /* Smooth reveal */
    transition:
      opacity 0.25s var(--mobile-timing-smooth),
      visibility 0.25s var(--mobile-timing-smooth),
      transform 0.3s var(--mobile-timing-spring) !important;
  }

  .float-dropdown.open {
    opacity: 1 !important;
    visibility: visible !important;
    pointer-events: auto !important;
    transform: translateY(0) scale(1) !important;
  }

  /* Theme dropdown position */
  .float-dropdown-theme {
    top: calc(max(16px, env(safe-area-inset-top, 16px)) + 60px) !important;
    right: 80px !important;
  }

  .rently.rtl .float-dropdown-theme {
    right: auto !important;
    left: 80px !important;
  }

  /* Language dropdown position */
  .float-dropdown-lang {
    top: calc(max(16px, env(safe-area-inset-top, 16px)) + 60px) !important;
    right: 16px !important;
  }

  .rently.rtl .float-dropdown-lang {
    right: auto !important;
    left: 16px !important;
  }

  /* Dropdown buttons */
  .float-dropdown button {
    width: 42px !important;
    height: 42px !important;
    border-radius: 12px !important;
    border: 2px solid transparent !important;
    background: var(--bg-alt, rgba(0,0,0,0.03)) !important;
    cursor: pointer !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    font-size: 1.3rem !important;

    transition:
      transform 0.2s var(--mobile-timing-spring),
      border-color 0.2s var(--mobile-timing-smooth),
      background 0.2s var(--mobile-timing-smooth) !important;

    -webkit-tap-highlight-color: transparent !important;
  }

  .float-dropdown button:active {
    transform: scale(0.9) !important;
  }

  .float-dropdown button.active {
    border-color: var(--velvet) !important;
    background: rgba(181, 132, 109, 0.1) !important;
  }

  /* Color swatch in theme dropdown */
  .float-dropdown button span {
    width: 26px !important;
    height: 26px !important;
    border-radius: 8px !important;
    box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.08) !important;
    transition: transform 0.2s var(--mobile-timing-spring) !important;
  }

  .float-dropdown button:hover span,
  .float-dropdown button:active span {
    transform: scale(1.08) !important;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     SIDEBAR - Hidden on mobile
     ═══════════════════════════════════════════════════════════════════════════ */

  .permanent-sidebar,
  .ps-backdrop {
    display: none !important;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     HERO SECTION
     ═══════════════════════════════════════════════════════════════════════════ */

  .cb-resort-page { padding-top: 0 !important; }

  /* Hero - Cheval Blanc framed style */
  .cb-hero {
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important;
    align-items: center !important;
    position: relative !important;
  }

  .cb-hero.cb-hero-framed {
    min-height: auto !important;
    height: auto !important;
    padding: 100px 20px 40px !important;
    padding-top: calc(100px + env(safe-area-inset-top, 0px)) !important;
  }

  .cb-hero-title {
    font-size: clamp(1.6rem, 7vw, 2.2rem) !important;
    line-height: 1.15 !important;
    text-align: center !important;
    margin-bottom: 20px !important;
    color: var(--text) !important;
  }

  /* Hero Media - Cheval Blanc contained style */
  .cb-hero-media,
  .cb-hero-video-container {
    width: 100% !important;
    max-width: none !important;
    aspect-ratio: 4/3 !important;
    max-height: none !important;
    border-radius: 8px !important;
    overflow: hidden !important;
    margin: 0 auto !important;
    position: relative !important;
  }

  .cb-hero-corner, .cb-corner {
    display: none !important;
  }

  /* Hero Book Button - Cheval Blanc style */
  .cb-hero-book-btn {
    position: absolute !important;
    bottom: 16px !important;
    left: 50% !important;
    right: auto !important;
    transform: translateX(-50%) !important;
    width: auto !important;
    margin: 0 !important;
    padding: 12px 28px !important;
    border-radius: 0 !important;
    font-family: var(--font-body) !important;
    font-size: 0.7rem !important;
    font-weight: 400 !important;
    letter-spacing: 0.12em !important;
    text-transform: uppercase !important;
    text-align: center !important;
    background: rgba(255, 255, 255, 0.95) !important;
    color: #4a4a4a !important;
    border: none !important;
    z-index: 20 !important;
    cursor: pointer !important;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2) !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    transition: all 0.3s var(--mobile-timing-smooth) !important;
    -webkit-tap-highlight-color: transparent !important;
  }

  .cb-hero-book-btn:active {
    transform: translateX(-50%) scale(0.98) !important;
    background: #fff !important;
  }

  .rently.rtl .cb-hero-book-btn {
    font-family: var(--font-hebrew) !important;
    letter-spacing: 0.05em !important;
  }

  .cb-hero-cta {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    width: 100% !important;
    margin: 0 !important;
    padding: 18px 24px !important;
    padding-bottom: calc(18px + env(safe-area-inset-bottom, 0px)) !important;
    border-radius: 0 !important;
    font-size: 0.85rem !important;
    font-weight: 500 !important;
    letter-spacing: 0.1em !important;
    text-align: center !important;
    background: var(--velvet) !important;
    color: #fff !important;
    border: none !important;
    z-index: 100 !important;
    transition: background 0.3s var(--mobile-timing-smooth) !important;
  }

  .cb-arch-grid { display: none !important; }

  /* ═══════════════════════════════════════════════════════════════════════════
     APARTMENTS PAGE
     ═══════════════════════════════════════════════════════════════════════════ */

  .cb-apartments {
    min-height: auto;
    padding-top: calc(140px + env(safe-area-inset-top, 0px));
    padding-bottom: calc(100px + env(safe-area-inset-bottom, 0px));
  }

  /* Hide page header on mobile */
  .apt-page-header {
    display: none !important;
  }

  /* Project Tabs - Centered below nav */
  .apt-tabs {
    position: fixed !important;
    top: calc(max(16px, env(safe-area-inset-top, 16px)) + 68px) !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    z-index: 9980 !important;

    display: flex !important;
    gap: 6px !important;
    padding: 6px !important;

    background: var(--mobile-glass-bg) !important;
    backdrop-filter: blur(20px) saturate(180%) !important;
    -webkit-backdrop-filter: blur(20px) saturate(180%) !important;
    border: 1px solid var(--mobile-glass-border) !important;
    border-radius: 28px !important;
    box-shadow: var(--mobile-glass-shadow), var(--mobile-glass-inset) !important;

    transition:
      background 0.3s var(--mobile-timing-smooth),
      border-color 0.3s var(--mobile-timing-smooth),
      box-shadow 0.3s var(--mobile-timing-smooth) !important;
  }

  .apt-tab {
    padding: 10px 16px !important;
    font-size: 0.7rem !important;
    font-weight: 500 !important;
    letter-spacing: 0.05em !important;
    border-radius: 22px !important;
    min-height: 40px !important;
    white-space: nowrap !important;
    color: var(--text-muted) !important;
    background: transparent !important;
    border: none !important;

    transition:
      color 0.25s var(--mobile-timing-smooth),
      background 0.25s var(--mobile-timing-smooth),
      transform 0.2s var(--mobile-timing-spring) !important;
  }

  .apt-tab:active {
    transform: scale(0.95) !important;
  }

  .apt-tab.active {
    background: var(--velvet) !important;
    color: #fff !important;
  }

  .apt-header,
  .apt-title,
  .apt-count {
    display: none !important;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     CARDS - Touch Optimized
     ═══════════════════════════════════════════════════════════════════════════ */

  .cb-room-card {
    -webkit-tap-highlight-color: transparent;
    transition:
      transform 0.25s var(--mobile-timing-spring),
      box-shadow 0.25s var(--mobile-timing-smooth) !important;
  }

  .cb-room-card:active {
    transform: scale(0.97) translateZ(0) !important;
  }

  .cb-room-card:hover .cb-room-image img,
  .cb-room-card:hover .cb-room-image > div {
    transform: scale(1) translateZ(0);
  }

  .cb-room-content {
    padding: 12px;
    gap: 6px;
  }

  .cb-room-type {
    font-size: 0.55rem;
    color: var(--text-muted) !important;
  }

  .cb-room-name {
    font-size: 0.9rem;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    color: var(--text) !important;
  }

  .cb-room-discover {
    display: none;
  }

  .cb-room-badge {
    top: 8px;
    left: 8px;
    padding: 5px 10px;
    font-size: 0.55rem;
  }

  .rently.rtl .cb-room-badge {
    left: auto;
    right: 8px;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     TOUCH OPTIMIZATIONS
     ═══════════════════════════════════════════════════════════════════════════ */

  .custom-cursor, .custom-cursor-dot {
    display: none !important;
  }

  .ps-nav-item,
  .apt-tab,
  .cb-suite-dot,
  .cb-suite-arrow {
    min-height: 44px;
    min-width: 44px;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════════
   TOUCH FEEDBACK - Fine-tuned for touch devices
   ═══════════════════════════════════════════════════════════════════════════════ */

@media (hover: none) and (pointer: coarse) {
  .cb-room-card:hover {
    transform: translateY(0) translateZ(0);
  }

  .cb-room-card:hover .cb-room-image img {
    transform: scale(1) translateZ(0);
  }

  .cb-room-card:active {
    transform: scale(0.97) translateZ(0);
  }

  .cb-hero-video {
    transform: translateZ(0) !important;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════════
   SMALL SCREENS - Refined proportions
   ═══════════════════════════════════════════════════════════════════════════════ */

@media (max-width: 375px) {
  .mobile-hamburger,
  .float-nav-home,
  .float-nav-apartments,
  .float-control-theme,
  .float-control-lang {
    width: 46px !important;
    height: 46px !important;
    border-radius: 14px !important;
  }

  .float-nav-home {
    left: 70px !important;
  }

  .rently.rtl .float-nav-home {
    left: auto !important;
    right: 70px !important;
  }

  .float-nav-apartments {
    left: 124px !important;
  }

  .rently.rtl .float-nav-apartments {
    left: auto !important;
    right: 124px !important;
  }

  .float-control-theme {
    right: 70px !important;
  }

  .rently.rtl .float-control-theme {
    right: auto !important;
    left: 70px !important;
  }

  .float-dropdown-theme {
    top: calc(max(16px, env(safe-area-inset-top, 16px)) + 54px) !important;
    right: 70px !important;
  }

  .float-dropdown-lang {
    top: calc(max(16px, env(safe-area-inset-top, 16px)) + 54px) !important;
  }

  .apt-tabs {
    top: calc(max(16px, env(safe-area-inset-top, 16px)) + 60px) !important;
    padding: 5px !important;
    gap: 4px !important;
  }

  .apt-tab {
    padding: 8px 12px !important;
    font-size: 0.62rem !important;
    min-height: 36px !important;
  }

  .float-nav-home svg,
  .float-nav-apartments svg {
    width: 22px !important;
    height: 22px !important;
  }

  .float-control-lang svg {
    width: 20px !important;
    height: 20px !important;
  }

  .float-theme-icon {
    grid-template-columns: repeat(2, 9px) !important;
    gap: 2px !important;
    width: 20px !important;
    height: 20px !important;
  }

  .float-theme-quad {
    width: 9px !important;
    height: 9px !important;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════════
   VERY SMALL SCREENS - iPhone SE etc
   ═══════════════════════════════════════════════════════════════════════════════ */

@media (max-width: 320px) {
  .mobile-hamburger,
  .float-nav-home,
  .float-nav-apartments,
  .float-control-theme,
  .float-control-lang {
    width: 42px !important;
    height: 42px !important;
    border-radius: 12px !important;
  }

  .mobile-hamburger span {
    width: 18px !important;
    gap: 5px !important;
  }

  .float-nav-home {
    left: 58px !important;
  }

  .float-nav-apartments {
    left: 106px !important;
  }

  .float-control-theme {
    right: 58px !important;
  }

  .apt-tabs {
    max-width: calc(100vw - 32px) !important;
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }

  .apt-tab {
    padding: 7px 10px !important;
    font-size: 0.58rem !important;
    min-height: 32px !important;
  }
}
