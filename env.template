# ═══════════════════════════════════════════════════════════════════════════════
# HOSTLY PLATFORM - ENVIRONMENT VARIABLES TEMPLATE
# ═══════════════════════════════════════════════════════════════════════════════
# Copy this file to .env.local (development) or set in your deployment platform
# ═══════════════════════════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────────────────────────
# DATABASE (Required)
# ─────────────────────────────────────────────────────────────────────────────
# PostgreSQL connection string
# For Supabase: Use pooled connection (port 6543) for runtime
DATABASE_URL="postgresql://postgres.[PROJECT]:[PASSWORD]@aws-0-[REGION].pooler.supabase.com:6543/postgres?pgbouncer=true"

# Direct connection for migrations (port 5432, no pooling)
DIRECT_URL="postgresql://postgres.[PROJECT]:[PASSWORD]@aws-0-[REGION].pooler.supabase.com:5432/postgres"

# For local Docker:
# DATABASE_URL="postgresql://hostly:hostly_secret@localhost:5432/hostly"
# DIRECT_URL="postgresql://hostly:hostly_secret@localhost:5432/hostly"

# ─────────────────────────────────────────────────────────────────────────────
# AUTHENTICATION (Required)
# ─────────────────────────────────────────────────────────────────────────────
# JWT signing secret - MUST be at least 32 characters
# Generate with: openssl rand -base64 32
JWT_SECRET="your-super-secret-jwt-key-minimum-32-characters-long"

# Token expiration times
JWT_EXPIRES_IN="15m"
REFRESH_TOKEN_EXPIRES_IN="7d"

# ─────────────────────────────────────────────────────────────────────────────
# STRIPE - PAYMENTS (Required)
# ─────────────────────────────────────────────────────────────────────────────
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY="sk_test_..."
STRIPE_PUBLISHABLE_KEY="pk_test_..."

# Webhook secret from Stripe Dashboard > Webhooks
STRIPE_WEBHOOK_SECRET="whsec_..."

# ─────────────────────────────────────────────────────────────────────────────
# BOOM PMS - CHANNEL MANAGER (Required)
# ─────────────────────────────────────────────────────────────────────────────
# Get from Boom PMS developer portal
BOOM_CLIENT_ID="boom_client_..."
BOOM_CLIENT_SECRET="boom_secret_..."
BOOM_API_URL="https://app.boomnow.com/open_api/v1"

# Optional: Webhook signature verification
BOOM_WEBHOOK_SECRET=""

# ─────────────────────────────────────────────────────────────────────────────
# REDIS - CACHING (Recommended)
# ─────────────────────────────────────────────────────────────────────────────
# Upstash Redis (serverless, REST API)
# Get from: https://console.upstash.com
UPSTASH_REDIS_REST_URL="https://[ID].upstash.io"
UPSTASH_REDIS_REST_TOKEN="..."

# For local Docker: Use standard Redis client (not REST)
# REDIS_URL="redis://localhost:6379"

# ─────────────────────────────────────────────────────────────────────────────
# EMAIL - TRANSACTIONAL (Recommended)
# ─────────────────────────────────────────────────────────────────────────────
# Resend for transactional emails
# Get from: https://resend.com/api-keys
RESEND_API_KEY="re_..."
EMAIL_FROM="Hostly <noreply@yourdomain.com>"

# ─────────────────────────────────────────────────────────────────────────────
# OBJECT STORAGE - MEDIA (Recommended)
# ─────────────────────────────────────────────────────────────────────────────
# Cloudflare R2 (S3-compatible)
R2_ACCESS_KEY_ID="..."
R2_SECRET_ACCESS_KEY="..."
R2_BUCKET_NAME="hostly-uploads"
R2_ENDPOINT="https://[ACCOUNT_ID].r2.cloudflarestorage.com"
R2_PUBLIC_URL="https://cdn.yourdomain.com"

# ─────────────────────────────────────────────────────────────────────────────
# SUPABASE (Optional - if using Supabase features)
# ─────────────────────────────────────────────────────────────────────────────
SUPABASE_URL="https://[PROJECT].supabase.co"
SUPABASE_ANON_KEY="eyJ..."
SUPABASE_SERVICE_ROLE_KEY="eyJ..."

# ─────────────────────────────────────────────────────────────────────────────
# APPLICATION (Optional)
# ─────────────────────────────────────────────────────────────────────────────
# Public URLs (baked into client bundle at build time)
NEXT_PUBLIC_APP_URL="https://app.yourdomain.com"
NEXT_PUBLIC_API_URL="https://app.yourdomain.com/api"

# Node environment
NODE_ENV="production"

# ─────────────────────────────────────────────────────────────────────────────
# FEATURE FLAGS (Optional)
# ─────────────────────────────────────────────────────────────────────────────
FEATURE_BOOM_SYNC="true"
FEATURE_STRIPE_PAYMENTS="true"
FEATURE_EMAIL_NOTIFICATIONS="true"

# ─────────────────────────────────────────────────────────────────────────────
# OBSERVABILITY (Optional)
# ─────────────────────────────────────────────────────────────────────────────
# Logging
LOG_LEVEL="info"
DB_LOG_QUERIES="false"
DB_SLOW_QUERY_THRESHOLD_MS="1000"

# ═══════════════════════════════════════════════════════════════════════════════
# REQUIRED VARIABLES SUMMARY
# ═══════════════════════════════════════════════════════════════════════════════
# The following MUST be set for the application to start:
#
#   ✓ DATABASE_URL          - PostgreSQL connection string
#   ✓ JWT_SECRET            - JWT signing secret (min 32 chars)
#   ✓ STRIPE_SECRET_KEY     - Stripe API key
#   ✓ STRIPE_WEBHOOK_SECRET - Stripe webhook secret
#   ✓ BOOM_CLIENT_ID        - Boom PMS client ID
#   ✓ BOOM_CLIENT_SECRET    - Boom PMS client secret
#
# ═══════════════════════════════════════════════════════════════════════════════
